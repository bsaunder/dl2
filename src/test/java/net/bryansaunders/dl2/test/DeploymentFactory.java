package net.bryansaunders.dl2.test;/* * #%L * DL2 * %% * Copyright (C) 2014 Bryan Saunders * %% * This program is free software: you can redistribute it and/or modify * it under the terms of the GNU General Public License as * published by the Free Software Foundation, either version 3 of the  * License, or (at your option) any later version. *  * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the * GNU General Public License for more details. *  * You should have received a copy of the GNU General Public  * License along with this program.  If not, see * <http://www.gnu.org/licenses/gpl-3.0.html>. * #L% */import java.io.File;import org.jboss.shrinkwrap.api.ShrinkWrap;import org.jboss.shrinkwrap.api.asset.EmptyAsset;import org.jboss.shrinkwrap.api.spec.WebArchive;import org.jboss.shrinkwrap.resolver.api.maven.Maven;import org.junit.Ignore;/** * Builds a Default Arquillian Deployment. *  * @author Bryan Saunders <btsaunde@gmail.com> *  */@Ignorepublic final class DeploymentFactory {    /**     * Default Constructor.     */    private DeploymentFactory() {        // Do Nothing    }    /**     * Gets a Default WebArchive Deployment for the REST API.     *      * @return REST API Arquillian Deployment     */    public static WebArchive getRestApiDeployment() {        WebArchive war = ShrinkWrap.create(WebArchive.class, "dl2_test.war");        // Add Project Code        war.addPackages(true, "net.bryansaunders.dl2");                // Add Test Properties        war.addAsResource("application.properties");                // Add Maven Deps        File[] libs = Maven.resolver().loadPomFromFile("pom.xml")                .importCompileAndRuntimeDependencies()                .resolve().withTransitivity().asFile();        for(File file : libs){            war.addAsLibrary(file);        }                   // Setup CDI/Persistence/Web        war.addAsWebInfResource(EmptyAsset.INSTANCE, "beans.xml");        // war.addAsResource("META-INF/persistence.xml", "META-INF/persistence.xml")        war.setWebXML(new File("src/main/webapp/WEB-INF/web.xml"));        return war;    }}